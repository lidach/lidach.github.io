<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lisa Chong - Artificial reefs in socio-ecological fisheries systems</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href=".//Users/lisa_chong/Library/CloudStorage/GoogleDrive-lisa.chong8594@gmail.com/My Drive/GitHub/lidach.github.io/add_files/Chong_logo.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="style.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./add_files/images/Chong_logo.jpeg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Lisa Chong</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-research" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Research</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-research">    
        <li>
    <a class="dropdown-item" href="./dllm.html" rel="" target="">
 <span class="dropdown-text">Data-limited length-based methods</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./scallop.html" rel="" target="">
 <span class="dropdown-text">Florida bay scallop simulation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./ar_ses.html" rel="" target="">
 <span class="dropdown-text">Artificial reefs in socio-ecological fisheries</span></a>
  </li>  
        <li class="dropdown-header">Florida Largemouth Bass stocking simulation (in progress)</li>
        <li class="dropdown-header">Artificial reef simulation models (in progress)</li>
        <li class="dropdown-header">Gulf of Mexico red snapper (in progress)</li>
        <li class="dropdown-header">Lake Whitefish stock assessment (in progress)</li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./resources.html" rel="" target="">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cv.html" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#global-synthesis-of-effects-and-feedbacks-from-artificial-reefs-on-socioecological-systems-in-recreational-fisheries" id="toc-global-synthesis-of-effects-and-feedbacks-from-artificial-reefs-on-socioecological-systems-in-recreational-fisheries" class="nav-link active" data-scroll-target="#global-synthesis-of-effects-and-feedbacks-from-artificial-reefs-on-socioecological-systems-in-recreational-fisheries">Global synthesis of effects and feedbacks from artificial reefs on socioecological systems in recreational fisheries</a></li>
  <li><a href="#university-of-florida-extension-documents" id="toc-university-of-florida-extension-documents" class="nav-link" data-scroll-target="#university-of-florida-extension-documents">University of Florida Extension Documents</a>
  <ul class="collapse">
  <li><a href="#artificial-reefs-in-florida-101" id="toc-artificial-reefs-in-florida-101" class="nav-link" data-scroll-target="#artificial-reefs-in-florida-101">Artificial reefs in Florida 101</a></li>
  <li><a href="#overview-and-updates-of-artificial-reefs-in-florida" id="toc-overview-and-updates-of-artificial-reefs-in-florida" class="nav-link" data-scroll-target="#overview-and-updates-of-artificial-reefs-in-florida">Overview and updates of artificial reefs in Florida</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Artificial reefs in socio-ecological fisheries systems</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>One component of my dissertation was to evaluate the effects and feedbacks of artificial reefs in socio-ecological fisheries systems. This led to the creation of multiple written works as listed below, including a publication and several extension documents.</p>
<section id="global-synthesis-of-effects-and-feedbacks-from-artificial-reefs-on-socioecological-systems-in-recreational-fisheries" class="level2">
<h2 class="anchored" data-anchor-id="global-synthesis-of-effects-and-feedbacks-from-artificial-reefs-on-socioecological-systems-in-recreational-fisheries">Global synthesis of effects and feedbacks from artificial reefs on socioecological systems in recreational fisheries</h2>
<p>Authors: Lisa Chong (UF), Zachary Siders (UF), Kai Lorenzen (UF), Robert Ahrens (PIFSC), Edward Camp (UF).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig1.jpg" width="450" height="350" class="figure-img"></p>
<figcaption class="figure-caption">Photo credit Keith Mille.</figcaption>
</figure>
</div>
<p>Substantial work has been done to understand the ecology of artificial reefs and an increasing number of studies have examined the socioeconomic aspects, however their effects on the overall socioecological system are not well understood. Artificial reefs are known to affect fish, fishers, surrounding habitat, and management; however, this has not been examined holistically as their feedbacks are difficult to intuit. Given the natural of widespread introduction of made-made structures to the seascape, it is likely that artificial reefs have local and systems-level effects on fisheries. This should be examined in the socioecological systems context as the ecological and socioeconomic impacts of artificial reefs do not exist in isolation.</p>
<p>We conducted a literature review to catalogue effects and feedbacks of artificial reefs on social-ecological fisheries systems and recreational fisheries. We extracted information from both artificial reef and recreational fisheries research. This synthesis reveals that artificial reefs across the world may result in a net negative effect on fisheries as socioeconomic benefits outweigh the biological benefits and productivity. There may be unintended consequences if biological benefits from habitat-to-fish and fish-to-fish feedbacks are outweighed by population losses due to greater socioeconomic benefits from fish-to-fisher feedbacks. Taken in concert with their semi-permanent nature and apparent popularity with stakeholders, a view emerges of artificial reefs possibly functioning as a “social-ecological trap”. We also highlighted important effects of artificial reefs on fisheries and linkages that need to be accounted for when considering their deployment.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig2.jpg" width="600" height="500" class="figure-img"></p>
<figcaption class="figure-caption">Summary figure of the components of a social-ecological system with artificial reefs. The main components are fish, fisher, habitat and managers, of which are affected by the deployment of artificial reefs. We define “managers” as someone responsible for overseeing the management and conservation of resources, including fish populations, fishers, and their habitats. The direct effects (regular text), indirect effects (italicized text), and direct and indirect effects (italicized and bolded text) are shown with the black arrow. The feedbacks (blue text) are shown with the dotted blue arrow, which include (1) fish-to-fish, (2) habitat-to-fish, (3) fish-to-fisher, and (4) habitat-to-fish-to-fishers-to-manager.</figcaption>
</figure>
</div>
</section>
<section id="university-of-florida-extension-documents" class="level2">
<h2 class="anchored" data-anchor-id="university-of-florida-extension-documents">University of Florida Extension Documents</h2>
<p>EDIS is the Electronic Data Information Source of UF/IFAS Extension, a collection of information on topics. These are developed in support of Extension program area goals and objectives and published by UF/IFAS academic departments.</p>
<section id="artificial-reefs-in-florida-101" class="level3">
<h3 class="anchored" data-anchor-id="artificial-reefs-in-florida-101">Artificial reefs in Florida 101</h3>
<p>Authors: Lisa Chong (Fisheries and Aquatic Sciences), Angela Collins (Florida SeaGrant), Holly Abeels (Florida SeaGrant), Anna Braswell (Fisheries and Aquatic Sciences), Ana Zangroniz (Florida SeaGrant), Andrew Ropicki (Food and Resource Economics Department), Scott Jackson (Florida SeaGrant), and Edward Camp (Fisheries and Aquatic Sciences)</p>
<p>This four-part series provides an overview of Florida’s artificial reefs for decision-makers, such as local government officials, management agency personnel, artificial reef manufacturers, and extension agents. The publications describe, summarize, and explain scientific information about artifical reefs and break up the topics for easy reading and comprehension.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig3.jpg" width="450" height="350" class="figure-img"></p>
<figcaption class="figure-caption">The reasons why artificial reefs are built. Artificial reefs are typically built to increase habitat and recreational opportunities, which can help fish populations by affecting vital demographic rates of growth, reproduction, and/or survival and by providing food and shelter. Scientists conduct research on these topics to gain a better understanding of the impacts of artificial reefs</figcaption>
</figure>
</div>
<p><a href="https://edis.ifas.ufl.edu/publication/FR450">Part 1</a> describes why artifical reefs are built in Florida. It serves as a primer for the rest of the series.</p>
<p><a href="https://edis.ifas.ufl.edu/publication/FA240">Part 2</a> explains how artificial reefs affect fish ecology. This describes how artificial reefs affect ecological processes and how those changes may translate into species population-level effects.</p>
<p><a href="https://edis.ifas.ufl.edu/publication/FA243">Part 3</a> conveys how artificial reefs affect end-users, which an emphasis on fishers and recreational divers. Artificial reefs can affect behavior by fishers and divers, which include choosing where, how much, and which species to target when fishing.</p>
<p><a href="https://edis.ifas.ufl.edu/publication/FA244">Part 4</a> describes how the overall fishery system (fish, fishers, and divers) are affected by artificial reefs. It builds off information from the previous publications and goes into the trade-offs and benefits of artificial reefs.</p>
</section>
<section id="overview-and-updates-of-artificial-reefs-in-florida" class="level3">
<h3 class="anchored" data-anchor-id="overview-and-updates-of-artificial-reefs-in-florida">Overview and updates of artificial reefs in Florida</h3>
<p><a href="https://edis.ifas.ufl.edu/publication/FA231">Artificial Reefs and People: how we create them and how they affect us</a>: This is an overview of how people are involved with artificial reefs. Artificial reefs affect users, local economies, government, state scientists, and managers.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig4.png" width="450" height="350" class="figure-img"></p>
<figcaption class="figure-caption">Process of artificial reef implementation in Florida. This figure depicts the interaction among stakeholders and primary users and shows how their influences affect the implementation of artificial reefs.</figcaption>
</figure>
</div>
<p><a href="https://edis.ifas.ufl.edu/publication/FA242">An update on Florida’s artificial reefs: recent deployments and trends</a>: This reviews artificial reef deployments from 2015-2021 by region.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig5.jpeg" width="450" height="350" class="figure-img"></p>
<figcaption class="figure-caption">Florida’s artificial reefs, overall and since 2015, by region. The different colored counties show the different regions of the state, and the open circles show artificial reef locations. Black circles show reefs deployed prior to 2015, and red circles show those deployed 2015–2021. The thin blue line shows the outer extent of state waters (9 nautical miles on the Gulf coast and 3 nautical miles on the Atlantic coast), and the dashed line shows the outer extent of federal waters. Note that the symbols for artificial reef are not to scale; they are much larger than the actual reef footprints. Thus, while the figure seems to indicate near continuous coverage of artificial reefs along the Florida coastline, artificial reefs make up an exceedingly small proportion of the ocean floor adjacent to Florida.</figcaption>
</figure>
</div>
<p><a href="https://edis.ifas.ufl.edu/publication/FA245">An update on Florida’s artificial reefs: recent research and what it means for Florida</a>: This summarizes peer reviewed publications on key topics in artificial reefs literature, including marine ecology, fisher behavior, design, and monitoring.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./add_files/images/ar_ses_fig6.jpeg" width="450" height="350" class="figure-img"></p>
<figcaption class="figure-caption">Photo credit: Michael Dickson</figcaption>
</figure>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>